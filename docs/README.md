# MedicalAIMaster ë¬¸ì„œ

> ë©€í‹°ëª¨ë‹¬ ì˜ë£Œ ë°ì´í„° ë¶„ì„ì„ ìœ„í•œ AI ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ

## ğŸ“– í”„ë¡œì íŠ¸ ê°œìš”

MedicalAIMasterëŠ” **ìì—°ì–´ ì§ˆì˜**ë¡œ ì˜ë£Œ ë°ì´í„°ë¥¼ ë¶„ì„í•  ìˆ˜ ìˆëŠ” AI ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

```
ì‚¬ìš©ì: "2023ë…„ ìœ„ì•” í™˜ìì˜ ì‹¬ë°•ìˆ˜ í‰ê· ì„ ì„±ë³„ë¡œ ë¹„êµí•´ì¤˜"
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MedicalAIMaster                               â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚IndexingAgent â”‚   â”‚Extraction    â”‚   â”‚Analysis              â”‚ â”‚
â”‚  â”‚ (ë°ì´í„° ì¸ë±ì‹±)â”‚â†’â”‚ Agent        â”‚â†’â”‚ Agent                â”‚ â”‚
â”‚  â”‚              â”‚   â”‚ (ì¿¼ë¦¬ í•´ì„)  â”‚   â”‚ (ì½”ë“œ ìƒì„±/ì‹¤í–‰)     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                   â”‚                    â”‚              â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                             â”‚                                    â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                    â”‚Orchestration   â”‚                           â”‚
â”‚                    â”‚Agent (ì¡°ìœ¨)    â”‚                           â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
ê²°ê³¼: {"male": 75.2, "female": 72.8}
```

---

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 4ê°œì˜ ì—ì´ì „íŠ¸

| ì—ì´ì „íŠ¸ | ì—­í•  | ë¬¸ì„œ |
|---------|------|------|
| **IndexingAgent** | ë°ì´í„° íŒŒì¼ì„ ë¶„ì„í•˜ì—¬ PostgreSQL/Neo4jì— ì¸ë±ì‹± | [â†’ ì•„í‚¤í…ì²˜](IndexingAgent_ARCHITECTURE.md) |
| **ExtractionAgent** | ìì—°ì–´ ì¿¼ë¦¬ë¥¼ Execution Planìœ¼ë¡œ ë³€í™˜ | [â†’ ì•„í‚¤í…ì²˜](ExtractionAgent_ARCHITECTURE.md) |
| **AnalysisAgent** | LLM ê¸°ë°˜ ì½”ë“œ ìƒì„±/ì‹¤í–‰ìœ¼ë¡œ ë°ì´í„° ë¶„ì„ | [â†’ ì•„í‚¤í…ì²˜](AnalysisAgent_ARCHITECTURE.md) |
| **OrchestrationAgent** | ìœ„ ì—ì´ì „íŠ¸ë“¤ì„ ì¡°ìœ¨í•˜ëŠ” ê²½ëŸ‰ ë ˆì´ì–´ | [â†’ ì•„í‚¤í…ì²˜](OrchestrationAgent_ARCHITECTURE.md) |

### ë°ì´í„° íë¦„

```
1. IndexingAgent: ë°ì´í„° íŒŒì¼ â†’ PostgreSQL + Neo4j (ì‚¬ì „ ì¸ë±ì‹±)

2. ì‚¬ìš©ì ì§ˆì˜ ì²˜ë¦¬:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ "ì‹¬ë°•ìˆ˜ í‰ê·  êµ¬í•´ì¤˜" â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ ExtractionAgent   â”‚â”€â”€â”€â”€â–¶â”‚ Execution Plan JSON â”‚
   â”‚ (ì¿¼ë¦¬ ì´í•´/ë§¤í•‘)  â”‚     â”‚ (ì–´ë–¤ ë°ì´í„°, ì–´ë””ì„œ) â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚ DataContext (ë°ì´í„° ë¡œë“œ)â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚ AnalysisAgent         â”‚
                            â”‚ (ì½”ë“œ ìƒì„± â†’ ì‹¤í–‰)    â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚ ë¶„ì„ ê²°ê³¼             â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. ì„œë¹„ìŠ¤ ì‹œì‘

```bash
# PostgreSQL + Neo4j ì‹¤í–‰
cd IndexingAgent
./run_postgres_neo4j.sh
```

### 2. ë°ì´í„° ì¸ë±ì‹± (ìµœì´ˆ 1íšŒ)

```bash
python test_full_pipeline_results.py
```

### 3. ë¶„ì„ ì‹¤í–‰

```python
from OrchestrationAgent.src import Orchestrator

orchestrator = Orchestrator()
result = orchestrator.run("ìœ„ì•” í™˜ìì˜ ì‹¬ë°•ìˆ˜ í‰ê· ì„ êµ¬í•´ì¤˜")

if result.status == "success":
    print("ê²°ê³¼:", result.result)
    print("ìƒì„±ëœ ì½”ë“œ:", result.generated_code)
```

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
MedicalAIMaster/
â”œâ”€â”€ IndexingAgent/          # ë°ì´í„° ì¸ë±ì‹± ì—ì´ì „íŠ¸
â”œâ”€â”€ ExtractionAgent/        # ì¿¼ë¦¬ í•´ì„ ì—ì´ì „íŠ¸
â”œâ”€â”€ AnalysisAgent/          # ì½”ë“œ ìƒì„±/ì‹¤í–‰ ì—ì´ì „íŠ¸
â”œâ”€â”€ OrchestrationAgent/     # ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë ˆì´ì–´
â”œâ”€â”€ shared/                 # ê³µìœ  ëª¨ë“ˆ
â”‚   â”œâ”€â”€ data/              # DataContext
â”‚   â”œâ”€â”€ database/          # DB ì—°ê²°
â”‚   â”œâ”€â”€ llm/               # LLM í´ë¼ì´ì–¸íŠ¸
â”‚   â””â”€â”€ processors/        # ë°ì´í„° ì²˜ë¦¬ê¸°
â”œâ”€â”€ docs/                   # ë¬¸ì„œ (ì´ í´ë”)
â””â”€â”€ venv/                   # Python ê°€ìƒí™˜ê²½
```

---

## ğŸ”— ë¬¸ì„œ ëª©ë¡

### ì•„í‚¤í…ì²˜ ë¬¸ì„œ
- [IndexingAgent ì•„í‚¤í…ì²˜](IndexingAgent_ARCHITECTURE.md)
- [ExtractionAgent ì•„í‚¤í…ì²˜](ExtractionAgent_ARCHITECTURE.md)
- [AnalysisAgent ì•„í‚¤í…ì²˜](AnalysisAgent_ARCHITECTURE.md)
- [OrchestrationAgent ì•„í‚¤í…ì²˜](OrchestrationAgent_ARCHITECTURE.md)

### ê° ì—ì´ì „íŠ¸ì˜ ìƒì„¸ ë¬¸ì„œ
ê° ì—ì´ì „íŠ¸ í´ë” ë‚´ì˜ `ARCHITECTURE.md`ì—ì„œ ë” ìƒì„¸í•œ ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- `IndexingAgent/ARCHITECTURE.md` - ì „ì²´ ì›Œí¬í”Œë¡œìš°, DB ìŠ¤í‚¤ë§ˆ, ë…¸ë“œ ìƒì„¸
- `ExtractionAgent/ARCHITECTURE.md` - 6-Phase íŒŒì´í”„ë¼ì¸, Entity ìŠ¤í‚¤ë§ˆ
- `OrchestrationAgent/ARCHITECTURE.md` - API ëª…ì„¸, ì‚¬ìš© ì˜ˆì‹œ

---

## âš™ï¸ í™˜ê²½ ì„¤ì •

### í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜

```bash
# .env
OPENAI_API_KEY=sk-...
ANTHROPIC_API_KEY=sk-ant-...  # (ì„ íƒ)

# Database
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=medical_data
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# Neo4j
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=password
```

### Python ì˜ì¡´ì„±

```bash
cd MedicalAIMaster
python -m venv venv
source venv/bin/activate
pip install -r IndexingAgent/requirements.txt
pip install -r ExtractionAgent/requirements.txt
pip install -r AnalysisAgent/requirements.txt
pip install -r OrchestrationAgent/requirements.txt
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸

```bash
# End-to-End í…ŒìŠ¤íŠ¸
python OrchestrationAgent/test_e2e_hr_mean.py --mode full --max-cases 50

# ê°œë³„ ì—ì´ì „íŠ¸ í…ŒìŠ¤íŠ¸
python IndexingAgent/test_full_pipeline_results.py
python ExtractionAgent/test_pipeline.py
```

---

## ğŸ“Š ì§€ì› ë°ì´í„° í˜•ì‹

| í˜•ì‹ | íŒŒì¼ í™•ì¥ì | ì„¤ëª… |
|------|------------|------|
| Tabular | `.csv`, `.xlsx`, `.parquet` | ì •í˜• ë°ì´í„° |
| Signal | `.vital`, `.edf` | ìƒì²´ì‹ í˜¸ ë°ì´í„° |

---

## ğŸ”’ ë³´ì•ˆ

- **Sandbox ì‹¤í–‰**: ì½”ë“œëŠ” ê²©ë¦¬ëœ í™˜ê²½ì—ì„œ ì‹¤í–‰
- **ê¸ˆì§€ íŒ¨í„´**: `eval`, `exec`, `os.system`, íŒŒì¼ I/O ë“± ì°¨ë‹¨
- **ë³€ìˆ˜ ê²€ì¦**: ì‚¬ìš© ê°€ëŠ¥í•œ ë³€ìˆ˜ë§Œ ì°¸ì¡° ê°€ëŠ¥

---

## ğŸ“ ë¼ì´ì„ ìŠ¤

Private - Internal Use Only
